<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head><meta name="generator" content="Hexo 3.8.0">

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="google-site-verification" content="0csUmrnWzGjJHxGLCbpLsyMt0DB_sEo8fMmISVKEzlc">
    <!--Description-->
    
        <meta name="description" content="why? kotlin?왜 코틀린을 공부하게되었는가?실은 코틀린에 대해 잘몰랐었고, 안드로이드 언어이다. 정도로 거의 모르고있었고,그냥 kotlinJS라는 이름만보고 JS코드를 작성하면 Kotlin 언어로 컴파일해주는것인가? 라고 잘못된 생각만을 가지고 있었습니다.알고보">
    

    <!--Author-->
    
        <meta name="author" content="shs400">
    

    <!--Keywords-->
    
        <meta name="keywords" content="javascript,kotlin,blog,kotlin,study,language">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="KotlinJS 를 시작해보자 ( hello world )">
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Roy Blog">

    <!--Page Cover-->
    
        <meta property="og:image" content="">
    

    <!--autoCanonical-->
    <link rel="canonical" href="http://shs400.github.io/2020/01/02/kotlin01/">

    <!-- Title -->
    
    <title>KotlinJS 를 시작해보자 ( hello world ) - Roy Blog</title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/main.css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Gallery -->
    <link href="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.css" type="text/css" rel="stylesheet">

    <!-- Google Analytics -->
    
    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-131731182-1', 'auto');
        ga('send', 'pageview');

    </script>



    <!--Favicon-->
    
        <link rel="shortcut icon" href="/img/roy_favicon.ico" type="image/x-icon">
        <link rel="icon" href="/img/roy_favicon.ico" type="image/x-icon">
    

</head>

<body>

<!-- Menu -->
<!-- Navigation -->
<header>
    <div class="logo">
        <a href="/">Roy Blog</a>
    </div><!-- end logo -->

    <div id="menu_icon"></div>
    <nav>
        <ul>
            
            <li>
                <a href="/">Home</a>
            </li>
            
            <li>
                <a href="/archives">Archives</a>
            </li>
            
            <li>
                <a href="/tags">tags</a>
            </li>
            
            <li>
                <a href="/about">about</a>
            </li>
            
        </ul>
    </nav><!-- end navigation menu -->

    <div class="footer clearfix">
        <ul class="social clearfix">
            
                <li><a href="https://twitter.com/shs4005" class="twitter" target="_blank" data-title="Twitter"></a></li>
            
            
                <li><a href="https://www.facebook.com/shs400" class="fb" target="_blank" data-title="Facebook"></a></li>
            
            
            
            
            
                <li><a href="atom.xml" class="rss" target="_blank" data-title="RSS"></a></li>
            
            
                <li><a href="https://www.instagram.com/shs400" class="instagram" target="_blank" data-title="Instagram"></a></li>
            
            
        </ul><!-- end social -->

        <div class="rights">
            <p>Copyright © 2019 hsSIM.</p>
            <p>Template by <a href="http://pixelhint.com/magnetic-free-html5-responsive-photography-website-template/">Pixelhint.com</a></p>
            <p>Hexo Theme by <a href="http://www.codeblocq.com/">Jonathan K.</a></p>
        </div><!-- end rights -->
    </div><!-- end footer -->
</header><!-- end header -->


<!-- Main Content -->
<section class="main clearfix">

    <section class="top" style="background: url('/img/default_detail_cover_02.jpg');">
        <div class="wrapper content_header clearfix">
            

<div class="work_nav">

    <ul class="btn clearfix">
        
        <li><a class="previous disabled"></a></li>
        
        <li><a href="/" class="grid" data-title="Portfolio"></a></li>
        
        <li><a href="/2019/10/17/firebase/" class="next" data-title="firebase를 시작해보자"></a></li>
        
    </ul>

</div><!-- end work_nav -->
            <h1 class="title">KotlinJS 를 시작해보자 ( hello world )</h1>
        </div>
    </section><!-- end top -->

    <section class="wrapper">
        <div class="content">

            <!-- Gallery -->
            

            <!-- Content -->
            <!-- excerpt -->
<h1 id="why-kotlin"><a href="#why-kotlin" class="headerlink" title="why? kotlin?"></a>why? kotlin?</h1><p>왜 코틀린을 공부하게되었는가?<br>실은 코틀린에 대해 잘몰랐었고, 안드로이드 언어이다. 정도로 거의 모르고있었고,<br>그냥 kotlinJS라는 이름만보고 JS코드를 작성하면 Kotlin 언어로 컴파일해주는것인가? 라고 잘못된 생각만을 가지고 있었습니다.<br>알고보니 코틀린은 멀티플랫폼 언어로 kotlin이란 새로운 언어를 작성한후 javascript로 컴파일 해 주는 것이였습니다.<br>그리고 이왕 알아보기 시작한거 javascript 외의 다른 언어도 한번 공부해보자로 시작하여 코틀린에 대해 공부하기 시작하였습니다.</p>
<h1 id="Kotlin-or-KotlinJS란"><a href="#Kotlin-or-KotlinJS란" class="headerlink" title="Kotlin or KotlinJS란"></a>Kotlin or KotlinJS란</h1><p>코틀린은 자바 플랫폼에서 동작하는 프로그래밍 언어이고,<br>자바를 완전히 대체할 수 있는 언어가 되는 것이 코틀린의 주목적이라고 합니다.</p>
<p>자바와 같이 코틀린은 정적 타입의 프로그래밍 언어입니다.<br>정적 타입 지정은 프로그램의 모든 구성 요소의 타입이 컴파일 되는 시점에 알 수 있고, 컴파일러가 타입을 검증해준다는 것 입니다.<br>그중 코틀린 컴파일러는 자바와 다르게 문맥으로 변수의 타입을 자동으로 유추 할 수 있기 때문에 직접 명시를 해주지 않아도 된다고 합니다.<br>이런 기능을 타입 추론이라고 합니다.</p>
<p>ex)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">val name = &apos;Roy&apos; // -&gt; == val name:String = &apos;Roy&apos;</span><br></pre></td></tr></table></figure></p>
<p>코틀린은 안드로이드 스튜디오 개발사인 Jet Brains에서 2011년에 공개한 언어인데<br>Google I/O 2017에서 안드로이드의 공식 개발언어가 되었고, Google I/O 2019에서는 kotlin First를 언급하여 코틀린을 최우선으로 사용하겠다고 언급하였습니다.<br><a href="https://developers-kr.googleblog.com/2019/05/google-io-2019-empowering-developers-to-build-experiences-on-Android-Play.html" target="_blank" rel="noopener">참조 - Google Developers 국문 블로그</a><br><img src="/images/kotlin/kotlinstudy01-1.jpeg" alt="kotlin"></p>
<p>또한 안드로이드 스튜디오로 모든 플렛폼개발이 가능하도록 개발중이라고 언급하였기 때문에 ios개발도 곧 가능할것이라 추측됩니다.</p>
<p>코틀린이라 하면 안드로이드나 자바를 생각하게 되는데,<br>코틀린은 플랫폼 중립적인 언어로 설계 되어있기때문에 다양한 환경에서 사용할 수 있습니다.</p>
<p><img src="/images/kotlin/kotlinstudy01-2.png" alt="kotlin"><br>현재는 JVM, Android, Browser, Native 코드를 작성할 수 있고,<br>자바스크립트대신 사용할 수 있는 코틀린 JS에 대해 설명하려고 합니다.</p>
<h2 id="Gradle-Project"><a href="#Gradle-Project" class="headerlink" title="Gradle Project"></a>Gradle Project</h2><p>본격적으로 시작하기에 앞서 Gradle Project에 대해 간단히 설명하겠습니다.</p>
<p>Gradle설정을 무엇으로 정하냐에 따라<br>c,자바,코틀린등을 컴파일을 할 수 있는 범용적인 빌드 프로젝트를 이야기합니다.<br>앤트(Ant), 그래이들(Gradle), 메이븐(Maven)등 여러 빌드툴중에 그래이들을 이용하여 빌드퇴는 프로젝트를 Gradle Project라고 합니다.</p>
<p>특징: 계층 구조로 구성이 가능합니다.</p>
<p>단점: 같은 계층내의 자식만 모듈간의 의존성을 설정 가능합니다.</p>
<p><img src="/images/kotlin/kotlinstudy01-3.png#left" alt="kotlin"></p>
<p>예를 들어 <code>A</code>와 <code>B</code>는 같은 계층이기 때문에 모둘간의 의존성을 설정 가능하지만<br><code>A-1</code>과 <code>B</code>는 의존성 설정이 불가능 하게 됩니다.<br>물론 <code>A-1</code>과 <code>B</code>의 의존성을 가지게하려면 복잡한 path 설정이 필요하므로 현재 내용에서는 다루지 않도록 하겠습니다.</p>
<h2 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h2><p>이제 처음으로 기본적인 hello world를 콘솔로 찍어볼텐데,<br>모든 개발의 시작은 환경 설절이므로 제일 먼저 환경 설정을 해보도록 하겠습니다.<br>Jet Brains에서 공개한 언어이기 때문에 툴은 Intellij를 사용하겠습니다.</p>
<p><img src="/images/kotlin/kotlinstudy01-3.png#left" alt="kotlin"></p>
<p>우선 새 프로젝트를 구성하는데<br>보통 실제 프로젝트는 단일 모듈로 만들지 않고 다수의 모듈을 갖게됩니다. 또한 목적파일 하나당 별도의 모듈이 필요하게됩니다.</p>
<p>ex) app.js : app기능 , lib.js :  lib기능 이 필요하다면 목적파일 하나당 하나의 모듈이 필요한것입니다.</p>
<p>이렇게 만든 <code>app.js(A)</code>와 <code>lib.js(B)</code>를 의존성을 갖게하기 위해 상위 부모에 root모듈을 만들어줍니다.<br>(root모듈은 그냥 빈 그래이들 모듈상태로 A모듈과 B모듛의 의존성을 만들어주기위한 부모라고 생각하시면 됩니다.)</p>
<p><img src="/images/kotlin/kotlinstudy01-4.png#left" alt="kotlin"><br>먼저 new Project를 만들어주시고 의존성을 위한 빈 root 모듈을 만들어줍니다.</p>
<p>그 후 root모둘의 자식으로 app모듈과 lib 모듈을 만들어주게 되면 </p>
<p><img src="/images/kotlin/kotlinstudy01-5.png#left" alt="kotlin"><br><img src="/images/kotlin/kotlinstudy01-6.png#left" alt="kotlin"><br><img src="/images/kotlin/kotlinstudy01-7.png#left" alt="kotlin"></p>
<p>위와같은 구조의 app 모듈이 root모듈의 자식으로 생성되게됩니다.<br>(동일하게 lib 모듈도 생성해줍니다.)</p>
<p>참고로 인텔리제이에서는 모듈마다 build.gradle이 자동 생성되는데 해당 코드는 잘못된? 예전? 코드이기 때문에<br><a href="https://kotlinlang.org/docs/tutorials/javascript/getting-started-gradle/getting-started-with-gradle.html" target="_blank" rel="noopener">코틀린 공식 홈페이지</a>의 Getting Started를 참고하셔서 아래와 같이 내용을 변경하시면 됩니다.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">group &apos;org.example&apos;</span><br><span class="line">version &apos;1.0-SNAPSHOT&apos;</span><br><span class="line"></span><br><span class="line">buildscript &#123;</span><br><span class="line">    ext.kotlin_version = &apos;1.3.61&apos;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        mavenCentral()</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">apply plugin: &apos;kotlin2js&apos;</span><br><span class="line"></span><br><span class="line">repositories &#123;</span><br><span class="line">    mavenCentral()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    compile &quot;org.jetbrains.kotlin:kotlin-stdlib-js:$kotlin_version&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>그리고 추가로 하단에있는 코드를 build.gradle에 추가해주면됩니다.<br>( 공식 사이트에는 File file로 되어있는데 File 삭제 )<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">task assembleWeb(type: Sync) &#123;</span><br><span class="line">    configurations.compile.each &#123; file -&gt;</span><br><span class="line">        from(zipTree(file.absolutePath), &#123;</span><br><span class="line">            includeEmptyDirs = false</span><br><span class="line">            include &#123; fileTreeElement -&gt;</span><br><span class="line">                def path = fileTreeElement.path</span><br><span class="line">                path.endsWith(&quot;.js&quot;) &amp;&amp; (path.startsWith(&quot;META-INF/resources/&quot;) ||</span><br><span class="line">                        !path.startsWith(&quot;META-INF/&quot;))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    from compileKotlin2Js.destinationDir</span><br><span class="line">    into &quot;$&#123;projectDir&#125;/web&quot;</span><br><span class="line"></span><br><span class="line">    dependsOn classes</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">assemble.dependsOn assembleWeb</span><br><span class="line">// assemble Task가 assembleWeb에 의존성을 갖는다. </span><br><span class="line">// (assemble이 실행되려면 반드시 assembleWeb이 실행되어야함)</span><br><span class="line">// 그리고 build는 assemble에 의존성을 갖기 때문에 </span><br><span class="line">// build를 하면 자동으로 assembleWeb 까지 실행되게 된다.</span><br></pre></td></tr></table></figure></p>
<p>이제 app -&gt; src -&gt; main -&gt; kotlin -&gt; main.kt 파일을 열어<br>hello world 를 작성해봅니다.<br>( kotlin은 함수를 fun으로 작성합니다. )</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun main() &#123;</span><br><span class="line">    println(&quot;hello world&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 기본적인 준비는 끝낫고 빌드만 하면 되게되는데 인텔리제이 오른쪽에 보이는 그래들탭을 열어주면<br><img src="/images/kotlin/kotlinstudy01-8.png#left" alt="kotlin"></p>
<p>위와 같은 화면이 나타나지않고 (lib는 추가하지 않았으니 없는게 맞습니다.)<br>root의 자식으로 app Task가 존재하지 않을것입니다.</p>
<p>이유는</p>
<p><img src="/images/kotlin/kotlinstudy01-9.png#left" alt="kotlin"><br>root의 settings.gradle파일에 app을 include 해주지 않았기 때문에<br>include ‘:app’을 작성해주어야 gradle에 app Task가 노출되게 됩니다.</p>
<p>이 후 app - Tasks - Build - build를 해주면</p>
<p><img src="/images/kotlin/kotlinstudy01-10.png#left" alt="kotlin"><br>app 디렉토리에 web 과 build 폴더가 생성되게 되고<br>web폴더의 kotlin.js ( 표준 라이브러리 )와 app.js가 생성되게 됩니다.</p>
<p>이제 index.html을 만들어 위에만든 kotlin.js와 app.js 를 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/// index.html</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"kotlin.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"app.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/kotlin/kotlinstudy01-11.png#left" alt="kotlin"></p>
<p>드디어 원하던 hello world가 출력되었습니다.</p>
<p>이번 글에서의 내용이 여기까지이고</p>
<p>자세히 파일을 보신분들은 아시겠지만 빌드 후 생성된 kotlin.js 파일의 용량이 2m인것을 보셨을겁니다.<br>이는 상용 서비스에서 사용하기에는 부담스러운 용량이기 때문에 다음 글에서 kotlin-dce-js에 대해 언급하도록 하겠습니다.<br>( plugin이기 때문에 궁금하시면 검색해서 보시면됩니다. )</p>
<ul>
<li>이 글은 <a href="https://www.bsidesoft.com/" target="_blank" rel="noopener">Bsidesoft</a>의 <a href="https://www.youtube.com/watch?v=bGIPJHl2W1I" target="_blank" rel="noopener">CodeSpitz Youtube</a> 강좌를 참고하여 작성하였습니다.</li>
</ul>


            <!-- Tags -->
            


<div class="tags">
    <a href="/tags/blog/">blog</a> <a href="/tags/javascript/">javascript</a> <a href="/tags/study/">study</a> <a href="/tags/kotlin/">kotlin</a> <a href="/tags/language/">language</a>
</div>



            <!-- Comments -->
            <div>
                
    <hr>
    <h3>Comments:</h3>
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>





            </div>
        </div><!-- end content -->
    </section>
</section><!-- end main -->

<!-- After footer scripts -->

<!-- jQuery -->
<script src="/js/jquery.js"></script>

<!-- Custom Code -->
<script src="/js/main.js"></script>

<!-- Gallery -->
<script src="//cdn.rawgit.com/noelboss/featherlight/1.3.5/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>

<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'shs400';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


</body>

</html>